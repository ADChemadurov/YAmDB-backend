# API для YaMDb

## Краткое описание проекта

Проект YaMDb собирает отзывы пользователей на произведения.
Произведения делятся на категории: «Книги», «Фильмы», «Музыка».
Этот конкретный проект является рабочим API для YaMDb.
Вся документация API доступна на /redoc.


## Запуск проекта

### Установка Docker

Для запуска проекта необходимо вначале установить Docker.
Ссылка на установку: https://www.docker.com/products/docker-desktop

### Клонирование репозитория

Так же необходимо склонировать репозиторий на свой компьютер.
Для этого необходимо зарегестрироваться на https://github.com/,
а так же установить Git Bash: https://git-scm.com/downloads.
Cделайте fork проекта по этой ссылке в свой репозиторий:
https://github.com/ADChemadurov/infra_sp2
После этого с помощью следующей команды в терминале склонируйте
его на свой компьютер: ```git clone <ваш-username>/<имя-репозитория>```

### Создание файла переменных окружения

В корневой папке проекта создайте файл с именем *.env*.
В нем прописываются переменные окружения.
Для работы данного проекта пропишите в нем следующие перемеменные:

DB_ENGINE=django.db.backends.postgresql # указываем, что работаем с postgresql
DB_NAME=postgres # имя базы данных
POSTGRES_USER=postgres # логин для подключения к базе данных
POSTGRES_PASSWORD=postgres # пароль для подключения к БД (установите свой)
DB_HOST=db # название сервиса (контейнера)
DB_PORT=5432 # порт для подключения к БД

### Запуск контейнеров

Проект разбит на 3 контейнера.
1. web
2. db
3. nginx

Для запуска их воедино используйте команду:
```
docker-compose up -d --build.
```


### Миграции

Так же необходимо произвести все миграции, если их нет в папках
приложений auth_users, categories, reviews.

Для этого запустите следующие 2 команды:
```
docker-compose exec web python manage.py makemigrations
docker-compose exec web python manage.py migrate --noinput
```

Если же нет миграций, а при выполнении двух предыдущих команд
миграции не совершаются, то прозведите миграции отдельно для
каждого приложения:
```
docker-compose exec web python manage.py makemigrations <app_name>
docker-compose exec web python manage.py migrate <app_name> --noinput
```


### Создание суперпользователя

Для доступа в админку нужно создать суперпользователя
с помощью следующей команды:
```
docker-compose exec web python manage.py createsuperuser
```

### Заполнение начальными данными.

Чтобы заполнить базу данных начальными данными используйте
следующую команду:
```
docker-compose exec web python manage.py loaddata fixtures.json
```



## Технологии

Для запуска проекта вам потребуется:
- Docker
- Git Bash



## Об авторе

Автор этого проекта студент Яндекс.Практикума 12 когорты Чемадуров Артём :)
